<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>List</title>
    <link rel="stylesheet" href="/stylesheets/cars/list.css" />
    <script src="/javascript/RequestManager.js"></script>
  </head>
  <body>
    <table class="cars-table">
      <tr>
        <th>Brand</th>
        <th>Model</th>
        <th>Year of Production</th>
        <th>Plate Number</th>
        <th>Actions</th>
      </tr>
      <%if (!cars.length){%>
      <tr>
        <td colspan="5">List is empty!</td>
      </tr>
      <%} else{%> <%for (const car of cars){%>
      <tr>
        <td><%=car.brand%></td>
        <td><%=car.model%></td>
        <td><%=car.year_of_production%></td>
        <td><%=car.plate_number%></td>
        <td>
          <a href="/cars/form/<%=car.id%>">
            <button>Edit</button>
          </a>
          <button
            onclick="RequestManager.deleteRequest('/cars', { id: '<%= car.id%>' })"
          >
            Delete
          </button>
        </td>
      </tr>
      <%}%> <%}%>
    </table>
    <div class="links-container">
      <a href="cars/form">
        <button>Add New Car</button>
      </a>
      <a href="/">
        <button>Home</button>
      </a>
    </div>
  </body>
</html>
